---
title: 'FA-SDR-TRX part #3 – the Transmitter'
author: Tobias (DH1TW)
layout: post
date: 2009-12-25T15:38:03+00:00
url: /software-defined-radio-fa-sdr-trx-transmitter
categories:
  - Software Defined Radio
tags:
  - FA-SDR-TRX
  - Funkamateur
  - Software Defined Radio
thumbnailImage: "img/2009/11/FA-SDR-TRX-Software-Defined-Radio-PCB.jpg"
thumbnailImagePosition: "left"

---
In the third article, we will have a deeper look into the TX path of the FA-SDR-TRX. All components will be discussed, including the optional 1 Watt amplifier.
<!--more-->

### Other posts in this series:

[FA-SDR-TRX - part #1 - a Systems View](../fa-sdr-trx-software-defined-radio-a-system-view)

[FA-SDR-TRX - part #2 - the Receiver](https://www.dh1tw.de/software-defined-radio-fa-sdr-trx-receiver)

[FA-SDR-TRX - part #3 - the Transmitter](https://www.dh1tw.de/software-defined-radio-fa-sdr-trx-transmitter)

#  Block diagram

An important design goal of the FA-SDR-TRX was to make maximum reuse of all available components. Besides the Local Oscillator, the Bandpass filter and the Buffer Amp are shared between the receiving and transmitting path. In the transmitting path, an RF signal is generated in the  TX-Mixer / Quadrature Sampling Exciter (QSE). This signal needs to be filtered from unwanted mixing products. Afterward, the Buffer Amp is used to amplify the signal to 10mW. If desired, this signal can be boosted up to 1 Watt with an optional amplifier.

{{< figure src="/img/2009/12/FA-SDR-TRX-with-TX-path.png" link="/img/2009/12/FA-SDR-TRX-with-TX-path.png" >}}

# Tx Mixer

{{< figure src="/img/2009/12/FA-SDR-TRX-tx-mixer.png" link="/img/2009/12/FA-SDR-TRX-tx-mixer.png" >}}

The IQ signal is generated with the PC. The (stereo) IQ signal is fed from the LineOut jack into the PCB. Before the signals reach the mixer, the amplitudes of I and Q can be adjusted with a potentiometer. The following op-amps ensure the phase conditions (0°, 180° / 90°, 270°) needed for by sampling mixer.

Excellent linearity and low distortion are crucial requirements for op-amps. Here, Linear Technologies LT1498 was found appropriate. Unbalances can be minimized with an equalizing current. The better the balance is, the better the carrier rejection (e.g. of an SSB signal) will be. With hardware, a perfect balance can only be achieved on a single frequency. As a rule of thumb, it is recommended to use a frequency between 10…15MHz. This will result in acceptable results for all amateur bands under the premise that low tolerance components are used and the PCB is assembled symmetrically! Small unbalances can of course be eliminated by software, but the intention is to avoid unbalances as much as possible.

The Tx mixer also uses a 74LVC4066 switching IC. The LO signal is supplied by the Generator component (see below). Like in the receiver, a 74ACT74 Flipflop is used to drive the 74LVC4066. After the mixer, the two DSB signals are combined in a broadband transformer (Mini-Circuits T4-1-X65) to the SSB Signal. At this stage, the signal strength is about 1mWatt.

# Generator

{{< figure src="/img/2009/12/FA-SDR-TRX-buffer-si570-generator.png"
  link="/img/2009/12/FA-SDR-TRX-buffer-si570-generator.png" >}}

The Generator is a shared component between the receiver and the transmitter. The LO signal is generated by a Si570 VCXO. The FA-SDR-TRX uses the FA-SY module as a COTS (commercial of the shelf) product. Frequency and PTT signals are controlled via USB. Depending on the state of the PTT signal, the BPF and AMP are switched into the RX or TX path.

A nice little detail in the FA-SDR-TRX design is, that the PTT Signal is also used to ensure that RX-Mixer and TX-Mixer are don’t operate at the same time. During the reception there is no need for the TX-Mixer, therefore it is disabled. During Transmission of course vice versa.

A CW key can be connected to the FA-SDR-TRX. This signal is used to directly key the FA-SY Generator.

I appreciate, that Harald, DL2EWN also considered EMC aspects in the FA-SDR-TRX. Ground loops are successfully avoided by using either transformers or optocouplers for all external signals.

# Bandpass filter

{{< figure src="/img/2009/12/FA-SDR-TRX-bandpass-filter.png" link="/img/2009/12/FA-SDR-TRX-bandpass-filter.png" >}}

Leaving the TX-mixer, the transmitting signal is fed into the Bandpass filter. The BPF “cleans” the TX signal from unwanted mixing products. Good filtering at this stage is crucial. The design of the Bandpass filter was already covered in depth in the FA-SDR-TRX receiver description.

# Buffer Amp

{{< figure src="/img/2009/12/FA-SDR-TRX-buffer-amp.png" link="/img/2009/12/FA-SDR-TRX-buffer-amp.png" >}}

The Buffer Amp is a broadband (0…5000MHz), 13dB fixed gain MMIC (SGA5289). In the TX path, it is used to amplify the TX signal to about 10mW. The following illustration shows the 10mW output spectrum of a two-tone signal on 10m. Please note that the intermodulation products of 3rd order are suppressed by 56dBc (-62dB PEP). With these excellent characteristics, the signal is ready to be put on the air or boosted in the following optional amplifier.

# Optional 1 Watt Amplifier

{{< figure src="/img/2009/12/FA-SDR-TRX-tx-amplifier1.png" link="/img/2009/12/FA-SDR-TRX-tx-amplifier1.png" >}}

Even if it is possible to make contacts with 10mW, it’s quite hard. A few dB Gain could help to produce a signal which can be seriously used on the bands. Having this in mind, Harald DL2EWN developed an optional amplifier with these design goals:

1. Output Power 1 Watt
2. High linearity
3. Easy assembly
4. Reproducible results
5. Easy available and inexpensive components
6. Optional, but easily integrated into main FA-SDR-TRX PCB
7. After my last conversation with Harald, it seems that all design goals could be met!

The Amp uses two RD00HHS1 Mitsubishi MOSFET transistors in push-pull mode. According to the diagrams in the datasheet, a single transistor provides +28dBm (630mW) within the specificated parameters. Measurements confirmed that intermodulation products are at least -40dB PEP throughout 1,8MHz…30MHz. The following diagrams show the output spectrum of a two-tone signal with 0,25W, 0,5W, and 1Watt power.

FA-SDR-TRX amplifier with 0,25Watt output power:

{{< figure src="/img/2009/12/Neue-1Watt-PA-025Watt-PEP.jpg" link="/img/2009/12/Neue-1Watt-PA-025Watt-PEP.jpg" >}}

FA-SDR-TRX amplifier with 0,5Watt output power:

{{< figure src="/img/2009/12/Neue-1Watt-PA-05Watt-PEP.jpg" link="/img/2009/12/Neue-1Watt-PA-05Watt-PEP.jpg" >}}

FA-SDR-TRX amplifier with 1Watt output power:

{{< figure src="/img/2009/12/Neue-1Watt-PA-1Watt-PEP.jpg" link="/img/2009/12/Neue-1Watt-PA-1Watt-PEP.jpg" >}}

Most parts of the amp are SMD and will come premounted. Commercial transformers ensure good matching and low losses (Minicircuits T9-1 and ADT 1,5-1). The chosen MOSFET transistors (RD00HHS1) are inexpensive and easy to handle.

Already during the design of the main FA-SDR-TRX PCB, the optional amplifier was considered as part of the whole system. The result is, that the amp can now be integrated within seconds. By plugging the amp into the main PCB and changing two jumpers, the amplifier is ready to use.

The price of the optional 1 Watt amplifier is still not defined will be approximately 30 Euro. Currently, the first batch of amplifiers should be available in March 2010. They can be ordered directly from the publisher's (Funkamateur) online shop.